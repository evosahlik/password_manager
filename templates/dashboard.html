{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h2 class="text-2xl font-bold mb-4">Your Credentials</h2>
    
    <!-- Add Credential Form -->
    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
        <h3 class="text-lg font-semibold mb-4">Add New Credential</h3>
        <form method="POST" action="{{ url_for('add_credential') }}" class="space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="site_name" class="block text-sm font-medium text-gray-700">Site Name</label>
                    <input type="text" name="site_name" id="site_name" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                </div>
                <div>
                    <label for="site_url" class="block text-sm font-medium text-gray-700">Site URL</label>
                    <input type="url" name="site_url" id="site_url" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                </div>
                <div>
                    <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
                    <input type="text" name="username" id="username" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                    <input type="text" name="password" id="password" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
                </div>
            </div>
            <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700">Add Credential</button>
        </form>
    </div>
    
    <!-- Credentials List -->
    <div class="bg-white p-6 rounded-lg shadow-md">
        {% if credentials %}
            <table class="w-full">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="p-2 text-left">Site Name</th>
                        <th class="p-2 text-left">URL</th>
                        <th class="p-2 text-left">Username</th>
                        <th class="p-2 text-left">Password</th>
                        <th class="p-2 text-left">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for credential in credentials %}
                        <tr class="border-b">
                            <td class="p-2">{{ credential.site_name }}</td>
                            <td class="p-2"><a href="{{ credential.site_url }}" class="text-blue-600 hover:underline" target="_blank">{{ credential.site_url }}</a></td>
                            <td class="p-2">{{ credential.username }}</td>
                            <td class="p-2">{{ credential.password }}</td>
                            <td class="p-2">
                                <a href="{{ url_for('delete_credential', credential_id=credential.id) }}" class="text-red-600 hover:underline" onclick="return confirm('Are you sure?')">Delete</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="text-gray-600">No credentials found. Add some above!</p>
        {% endif %}
    </div>
</div>
{% endblock %}